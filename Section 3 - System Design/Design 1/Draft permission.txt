# Connect to the PostgreSQL database as a superuser
psql -U postgres


# Create a new role
CREATE ROLE logistics_team;
CREATE ROLE analytics_team;
CREATE ROLE sales_team;
CREATE ROLE application_team;

# Create a new users
CREATE USER user_1 WITH LOGIN PASSWORD 'password';
CREATE USER user_2 WITH LOGIN PASSWORD 'password';
CREATE USER user_3 WITH LOGIN PASSWORD 'password';
CREATE USER service_account WITH LOGIN PASSWORD 'password';

# Grant the role to the user
GRANT logistics_team TO user_1;
GRANT analytics_team TO user_2;
GRANT sales_team TO user_3;
GRANT application_team TO service_account;


GRANT SELECT(sales_id, item_id, total_weight, is_fullfiled, fullfiled_on, created_on) ON sales TO logistics_team;
GRANT UPDATE(is_fullfiled, fullfiled_on) ON sales TO logistics_team;

GRANT SELECT ON members TO analytics_team;
GRANT SELECT ON sales TO analytics_team;

GRANT SELECT ON items TO sales_team;
GRANT UPDATE ON items TO sales_team;
GRANT INSERT ON items TO sales_team;
GRANT DELETE ON items TO sales_team;
GRANT SELECT ON sales TO sales_team;
GRANT UPDATE ON sales TO sales_team;
GRANT INSERT ON sales TO sales_team;
GRANT DELETE ON sales TO sales_team;

GRANT SELECT ON members TO application_team;
GRANT UPDATE ON members TO application_team;
GRANT INSERT ON members TO application_team;
GRANT DELETE ON members TO application_team;